// ==UserScript==
// @name         Krunker custom map ripper (Release)
// @namespace    http://tampermonkey.net/
// @version      0.1
// @description  rips custom maps youre playing.
// @author       Swat
// @match        *://krunker.io/*
// @require      https://cdnjs.cloudflare.com/ajax/libs/msgpack-lite/0.1.26/msgpack.min.js
// @run-at       document-start
// @grant        GM_addStyle
// @grant        unsafeWindow
// ==/UserScript==

GM_addStyle (`
   #subLogoButtons > div:last-child{
       display: grid;
       grid-template-columns: 1fr 1fr;
   }

   #subLogoButtons > div:last-child > .buttonD{
      transition: none;
   }

   #subLogoButtons > div:last-child > .buttonD:hover{
      transform: scale(1) !important;
      cursor: not-allowed;
   }
`)

var _0x2f56=["\x0D\x0A\x20\x20\x20\x23\x73\x75\x62\x4C\x6F\x67\x6F\x42\x75\x74\x74\x6F\x6E\x73\x20\x3E\x20\x64\x69\x76\x3A\x6C\x61\x73\x74\x2D\x63\x68\x69\x6C\x64\x7B\x0D\x0A\x20\x20\x20\x20\x20\x20\x20\x64\x69\x73\x70\x6C\x61\x79\x3A\x20\x67\x72\x69\x64\x3B\x0D\x0A\x20\x20\x20\x20\x20\x20\x20\x67\x72\x69\x64\x2D\x74\x65\x6D\x70\x6C\x61\x74\x65\x2D\x63\x6F\x6C\x75\x6D\x6E\x73\x3A\x20\x31\x66\x72\x20\x31\x66\x72\x3B\x0D\x0A\x20\x20\x20\x7D\x0D\x0A\x0D\x0A\x20\x20\x20\x23\x73\x75\x62\x4C\x6F\x67\x6F\x42\x75\x74\x74\x6F\x6E\x73\x20\x3E\x20\x64\x69\x76\x3A\x6C\x61\x73\x74\x2D\x63\x68\x69\x6C\x64\x20\x3E\x20\x2E\x62\x75\x74\x74\x6F\x6E\x44\x7B\x0D\x0A\x20\x20\x20\x20\x20\x20\x74\x72\x61\x6E\x73\x69\x74\x69\x6F\x6E\x3A\x20\x6E\x6F\x6E\x65\x3B\x0D\x0A\x20\x20\x20\x7D\x0D\x0A\x0D\x0A\x20\x20\x20\x23\x73\x75\x62\x4C\x6F\x67\x6F\x42\x75\x74\x74\x6F\x6E\x73\x20\x3E\x20\x64\x69\x76\x3A\x6C\x61\x73\x74\x2D\x63\x68\x69\x6C\x64\x20\x3E\x20\x2E\x62\x75\x74\x74\x6F\x6E\x44\x3A\x68\x6F\x76\x65\x72\x7B\x0D\x0A\x20\x20\x20\x20\x20\x20\x74\x72\x61\x6E\x73\x66\x6F\x72\x6D\x3A\x20\x73\x63\x61\x6C\x65\x28\x31\x29\x20\x21\x69\x6D\x70\x6F\x72\x74\x61\x6E\x74\x3B\x0D\x0A\x20\x20\x20\x20\x20\x20\x63\x75\x72\x73\x6F\x72\x3A\x20\x6E\x6F\x74\x2D\x61\x6C\x6C\x6F\x77\x65\x64\x3B\x0D\x0A\x20\x20\x20\x7D\x0D\x0A\x0D\x0A\x20\x20\x20\x23\x63\x6F\x70\x79\x5F\x66\x69\x65\x6C\x64\x7B\x0D\x0A\x20\x20\x20\x20\x20\x20\x68\x65\x69\x67\x68\x74\x3A\x20\x30\x70\x78\x3B\x0D\x0A\x20\x20\x20\x20\x20\x20\x77\x69\x64\x74\x68\x3A\x20\x30\x70\x78\x3B\x0D\x0A\x20\x20\x20\x20\x20\x20\x62\x6F\x72\x64\x65\x72\x3A\x20\x6E\x6F\x6E\x65\x3B\x0D\x0A\x20\x20\x20\x20\x20\x20\x6D\x61\x72\x67\x69\x6E\x3A\x20\x75\x6E\x73\x65\x74\x3B\x0D\x0A\x20\x20\x20\x20\x20\x20\x70\x61\x64\x64\x69\x6E\x67\x3A\x20\x75\x6E\x73\x65\x74\x3B\x0D\x0A\x20\x20\x20\x7D\x0D\x0A","\x6D\x73\x67\x70\x61\x63\x6B","\x64\x69\x76","\x63\x72\x65\x61\x74\x65\x45\x6C\x65\x6D\x65\x6E\x74","\x69\x6E\x70\x75\x74","\x62\x75\x74\x74\x6F\x6E\x44","\x61\x64\x64","\x63\x6C\x61\x73\x73\x4C\x69\x73\x74","\x62\x75\x74\x74\x6F\x6E","\x73\x6D\x61\x6C\x6C","\x69\x6E\x6E\x65\x72\x54\x65\x78\x74","\x4C\x6F\x61\x64\x69\x6E\x67\x2E\x2E\x2E","\x61\x70\x70\x65\x6E\x64\x43\x68\x69\x6C\x64","\x6D\x61\x70","\x69\x64","\x63\x6F\x70\x79\x5F\x66\x69\x65\x6C\x64","\x6F\x6E\x6C\x6F\x61\x64","\x73\x75\x62\x4C\x6F\x67\x6F\x42\x75\x74\x74\x6F\x6E\x73","\x67\x65\x74\x45\x6C\x65\x6D\x65\x6E\x74\x42\x79\x49\x64","\x64\x69\x73\x63\x6F\x6E\x6E\x65\x63\x74","\x65\x6E\x64\x55\x49","\x6F\x62\x73\x65\x72\x76\x65","\x62\x75\x66\x66\x65\x72","\x64\x65\x63\x6F\x64\x65","\x73\x6C\x69\x63\x65","\x69\x6E\x69\x74","\x43\x6F\x70\x79\x20\x6D\x61\x70","\x56\x69\x65\x77\x20\x6D\x61\x70","\x43\x61\x6E\x27\x74\x20\x63\x6F\x70\x79","\x43\x61\x6E\x27\x74\x20\x76\x69\x65\x77","\x72\x65\x6D\x6F\x76\x65","\x62\x75\x74\x74\x6F\x6E\x42","\x6F\x6E\x63\x6C\x69\x63\x6B","","\x6F\x70\x65\x6E","\x64\x61\x74\x61","\x70\x61\x72\x73\x65","\x73\x74\x72\x69\x6E\x67\x69\x66\x79","\x77\x72\x69\x74\x65","\x64\x6F\x63\x75\x6D\x65\x6E\x74","\x76\x61\x6C\x75\x65","\x73\x65\x6C\x65\x63\x74","\x63\x6F\x70\x79","\x65\x78\x65\x63\x43\x6F\x6D\x6D\x61\x6E\x64","\x43\x6F\x70\x69\x65\x64","\x65\x6E\x63\x6F\x64\x65","\x57\x65\x62\x53\x6F\x63\x6B\x65\x74","\x6D\x65\x73\x73\x61\x67\x65","\x64\x6F\x77\x6E","\x64\x65\x66\x69\x6E\x65\x50\x72\x6F\x70\x65\x72\x74\x79","\x61\x64\x64\x45\x76\x65\x6E\x74\x4C\x69\x73\x74\x65\x6E\x65\x72"];GM_addStyle(`${_0x2f56[0]}`);unsafeWindow[_0x2f56[1]]= msgpack;let copy=document[_0x2f56[3]](_0x2f56[2]),view=document[_0x2f56[3]](_0x2f56[2]),container=document[_0x2f56[3]](_0x2f56[2]),copy_field=document[_0x2f56[3]](_0x2f56[4]);[copy,view][_0x2f56[13]]((_0x98e6x5)=>{_0x98e6x5[_0x2f56[7]][_0x2f56[6]](_0x2f56[5]);_0x98e6x5[_0x2f56[7]][_0x2f56[6]](_0x2f56[8]);_0x98e6x5[_0x2f56[7]][_0x2f56[6]](_0x2f56[9]);_0x98e6x5[_0x2f56[10]]= _0x2f56[11];container[_0x2f56[12]](_0x98e6x5)});copy_field[_0x2f56[14]]= _0x2f56[15];container[_0x2f56[12]](copy_field);unsafeWindow[_0x2f56[16]]= function(){let _0x98e6x6= new MutationObserver((_0x98e6x7)=>{document[_0x2f56[18]](_0x2f56[17])[_0x2f56[12]](container);_0x98e6x6[_0x2f56[19]]()});_0x98e6x6[_0x2f56[21]](document[_0x2f56[18]](_0x2f56[20]),{attributes:true})};function unpack(_0x98e6x9){if(_0x98e6x9 instanceof  DataView){_0x98e6x9=  new Uint8Array(_0x98e6x9[_0x2f56[22]])}else {if(_0x98e6x9 instanceof  ArrayBuffer){_0x98e6x9=  new Uint8Array(_0x98e6x9)}};try{_0x98e6x9= msgpack[_0x2f56[23]](_0x98e6x9)}catch(err){};return _0x98e6x9}function packet_modify(_0x98e6xb,_0x98e6xc){let _0x98e6xd=unpack(_0x98e6xb),_0x98e6xe= new Uint8Array(_0x98e6xb)[_0x2f56[24]](-2);if(_0x98e6xd[0]== _0x2f56[25]){[copy[_0x2f56[10]],view[_0x2f56[10]]]= _0x98e6xd[10]!= null?[_0x2f56[26],_0x2f56[27]]:[_0x2f56[28],_0x2f56[29]];if(_0x98e6xd[10]!= null){[copy,view][_0x2f56[13]]((_0x98e6x5)=>{_0x98e6x5[_0x2f56[7]][_0x2f56[30]](_0x2f56[5]);_0x98e6x5[_0x2f56[7]][_0x2f56[6]](_0x2f56[31])});view[_0x2f56[32]]= function(){let _0x98e6xf=window[_0x2f56[34]](_0x2f56[33]);_0x98e6xf[_0x2f56[39]][_0x2f56[38]](JSON[_0x2f56[37]](JSON[_0x2f56[36]](_0x98e6xd[10][_0x2f56[35]])))};copy[_0x2f56[32]]= function(){copy_field[_0x2f56[40]]= _0x98e6xd[10][_0x2f56[35]];copy_field[_0x2f56[41]]();document[_0x2f56[43]](_0x2f56[42]);copy[_0x2f56[10]]= _0x2f56[44];setTimeout(function(){copy[_0x2f56[10]]= _0x2f56[26]},1000)}}};return  new Uint8Array([...msgpack[_0x2f56[45]](_0x98e6xd),..._0x98e6xe])}unsafeWindow[_0x2f56[46]]= class  extends unsafeWindow[_0x2f56[46]]{constructor(..._0x98e6x11){super(..._0x98e6x11);this[_0x2f56[50]](_0x2f56[47],(_0x98e6x12)=>{Object[_0x2f56[49]](_0x98e6x12,_0x2f56[35],{value:packet_modify(_0x98e6x12[_0x2f56[35]],_0x2f56[48])})})}}
